# Story 1.8: Dashboard - Confidence Level Over Time Graph

**As a** user,
**I want to** view a graph of my decision confidence levels over time on the dashboard,
**so that I can** track the historical performance and effectiveness of the decision-making frameworks I use.

---

## Description

This feature introduces a new data visualization component to the main dashboard: a histogram that charts the confidence level of completed analyses over a period of time. This provides users with a clear visual representation of trends, helping them understand which frameworks consistently lead to high-confidence outcomes.

---

## Acceptance Criteria

1. **AC1: Display Histogram:** The dashboard must display a histogram chart titled "Confidence Level Over Time".
2. **AC2: Default View:** By default, the histogram will show the average confidence level of all analyses from the last 30 days.
3. **AC3: Axes:**
    * The Y-axis will represent the confidence level, with possible values being "Low," "Medium," and "High."
    * The X-axis will represent time, with data points plotted daily.
4. **AC4: Framework Filter:** A list of all available frameworks will be displayed vertically to the right of the histogram.
5. **AC5: Filtering Interaction:**
    * Clicking on a framework's name in the list will filter the histogram to show data only for analyses that used that specific framework.
    * The currently selected framework in the list must be visually highlighted.
    * An "All Frameworks" option should be present and selected by default.
6. **AC6: Tooltip:** Hovering over any bar in the histogram will display a tooltip showing the specific date and the confidence level for that day.
7. **AC7: Empty State:** If there is no data for the selected timeframe or framework, the histogram area will display a message: "No analysis data available for this period."

---

## Technical Notes

* The confidence levels ("Low", "Medium", "High") will need to be mapped to numerical values for plotting on the graph.
* This component should be designed to fit within the existing "Productivity Hub" dashboard layout as defined in the UX Design Specification.
* Consider using a lightweight charting library that is compatible with our tech stack.

---

## UX & Design

* The visual style of the chart (colors, fonts) must align with the "Clarity in Motion" design direction.
* The interaction (clicking, hovering) should be smooth and responsive, with clear visual feedback.

---

## Backend Implementation

* The data for the histogram will be fetched from the user's `sessions` array in the `users` collection in Firestore, as detailed in story S5.3.
* The backend will need to provide an endpoint that can filter and aggregate the confidence level data by date and framework.

---

_Generated by {{user_name}} with BMad._
